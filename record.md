# ç•¸å˜åŽŸå› 

ç”±ç›¸æœºé«˜ä½Žè§’ï¼ˆä¹Ÿç§°ä¸ºä»°ä¿¯è§’ï¼‰é€ æˆçš„å›¾åƒç•¸å˜ä¸»è¦æ˜¯æŒ‡åœ¨æ‹æ‘„æ—¶ç›¸æœºä¸Žè¢«æ‘„ç‰©ä½“å¹³é¢ä¸åž‚ç›´å¯¼è‡´çš„è§†è§’å˜åŒ–ã€‚å½“ç›¸æœºå‘ä¸Šæˆ–å‘ä¸‹å€¾æ–œæ—¶ï¼Œå›¾åƒä¸­çš„ç‰©ä½“ä¼šå‡ºçŽ°é€è§†æ‰­æ›²ã€‚ä¾‹å¦‚ï¼Œå½“ç›¸æœºå‘ä¸‹å€¾æ–œæ‹æ‘„åœ°é¢æ—¶ï¼Œè¿‘å¤„çš„ç‰©ä½“ä¼šæ˜¾å¾—æ¯”è¿œå¤„çš„ç‰©ä½“å¤§ï¼Œç‰©ä½“çš„å½¢çŠ¶å’Œæ¯”ä¾‹ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ã€‚è¿™ç§ç•¸å˜åœ¨èˆªæ‹ã€å»ºç­‘æ‘„å½±ç­‰é¢†åŸŸä¸­å°¤ä¸ºå¸¸è§ï¼Œç†è§£å’ŒçŸ«æ­£è¿™ç§ç•¸å˜å¯¹äºŽèŽ·å–å‡†ç¡®çš„å›¾åƒä¿¡æ¯éžå¸¸é‡è¦ã€‚

# è§£å†³æ–¹æ³•

- æ•°å­¦æ¨¡åž‹å’Œç®—æ³•ï¼šåŸºäºŽç›¸æœºçš„å†…å¤–å‚æ•°çŸ©é˜µï¼Œé‡‡ç”¨æ•°å­¦æ¨¡åž‹å¯¹å›¾åƒè¿›è¡Œå˜æ¢å’Œæ ¡æ­£
- æ·±åº¦å­¦ä¹ æ–¹æ³•ï¼šåˆ©ç”¨æ·±åº¦å­¦ä¹ ï¼Œå­¦ä¹ ç•¸å˜ç‰¹å¾å¹¶è‡ªåŠ¨è¿›è¡ŒçŸ«æ­£

## æ•°å­¦æ–¹æ³•
ç›¸æœºå†…å¤–å‚è§£é‡Šå¯å‚è€ƒ [è§†è§‰slamåå››è®²](https://github.com/qomo/LearnSensorFusion/tree/master/books)

åæ ‡ç³»è½¬æ¢å…³ç³»å¦‚ä¸‹ã€‚å…¶ä¸­ï¼Œä¸–ç•Œåæ ‡ç³»ä¸ºå±€éƒ¨åæ ‡ç³»ä¸”Zwä¸º0ï¼Œæœªæœ‰ç»Ÿä¸€å®šä¹‰ï¼Œéœ€æŒ‰ç…§å…·ä½“è¯­å¢ƒæŒ‡å®šã€‚

![åæ ‡ç³»è½¬æ¢å…³ç³»](/pddon/åæ ‡è½¬æ¢.png)

å¤–å‚çŸ©é˜µï¼šæè¿°ä¸–ç•Œåæ ‡ä¸­çš„ç›¸æœºä½ç½®åŠå…¶æŒ‡å‘æ–¹å‘ã€‚å‘é‡tæè¿°äº†ä¸–ç•Œåæ ‡ç³»åŽŸç‚¹åœ¨ç›¸æœºåæ ‡ç³»çš„ä½ç½®ï¼ŒRä»£è¡¨äº†ç›¸æœºåæ ‡ç³»ä¸­ä¸–ç•Œåæ ‡ç³»è½´çš„æ–¹å‘

å¯¹æ”¾ç½®åœ¨é«˜ç©ºçš„ç›¸æœºè€ƒè™‘å°å­”æˆåƒï¼Œåˆ™åœ°é¢ç‰©ç‚¹P(lng,lat,altitude)å¯æŽ¢æµ‹å™¨ä¸Šæˆåƒä¸ºP(u,v)ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![æˆåƒè¿‡ç¨‹ç¤ºæ„å›¾](/pddon/æˆåƒç¤ºæ„å›¾.png)

ç”±äºŽè½½æœºã€åŠèˆ±ç­‰å§¿æ€ï¼Œä¼šä½¿æˆåƒäº§ç”Ÿç•¸å˜ã€‚å·¦å›¾ä¸ºä»¿çœŸæ­£å°„æŠ•å½±ï¼Œå³å›¾ä¸ºä»¿çœŸç•¸å˜å›¾åƒã€‚

![æ¨¡æ‹Ÿç•¸å˜æ•ˆæžœ-æ­£å°„æŠ•å½±](pddon/orthograhic.png)
![æ¨¡æ‹Ÿç•¸å˜æ•ˆæžœ-ç•¸å˜ç»“æžœ](pddon/distorted.png)

ä¸¾ä¸ªðŸŒ°ï¼š
![åƒç´ åæ ‡ç³»åˆ°ç›¸æœºåæ ‡ç³»åˆ°ä¸–ç•Œåæ ‡ç³»å˜æ¢ç¤ºæ„å›¾](/pddon/ä¸‰ä¸ªåæ ‡ç³».png)

å¯¹ä¸–ç•Œåæ ‡è¿›è¡Œå¤„ç†ï¼Œä½¿å…¶è½¬æ¢ä¸ºåœ¨å›¾åƒåˆ†è¾¨çŽ‡å†…ã€æŒ‰æ¯”ä¾‹ç¼©æ”¾çš„è§„èŒƒåŒ–åæ ‡ï¼Œä¿æŒé•¿å®½æ¯”ä¾‹ã€‚
![è§„èŒƒåŒ–ä¸–ç•Œåæ ‡ç³»](/pddon/è§„èŒƒåŒ–ä¸–ç•Œåæ ‡.png)

æŽ¥ä¸‹æ¥ç¡®å®šæ˜ å°„å…³ç³»ï¼šä½¿ç”¨å›¾åƒçš„å››è§’åƒç´ åæ ‡å’Œå®ƒä»¬å¯¹åº”çš„ä¸–ç•Œåæ ‡æ¥ç¡®å®šä¸€ä¸ªæ˜ å°„å…³ç³»ã€‚è¿™ä¸ªå…³ç³»å¯ä»¥é€šè¿‡è®¡ç®—ä¸€ä¸ªå˜æ¢çŸ©é˜µæ¥å»ºç«‹ï¼Œè¿™ä¸ªçŸ©é˜µé€šå¸¸è¢«ç§°ä¸ºå•åº”æ€§çŸ©é˜µï¼ˆHomography Matrixï¼‰æˆ–å‡ ä½•æ ¡æ­£çŸ©é˜µã€‚ä¾‹å¦‚ä½¿ç”¨opencvè®¡ç®—ï¼š
cv2.findHomography(image_points, normalized_coords)

æœ€åŽåº”ç”¨å˜æ¢ï¼šä½¿ç”¨è®¡ç®—å‡ºçš„å•åº”æ€§çŸ©é˜µå¯¹æ•´ä¸ªå›¾åƒè¿›è¡Œå˜æ¢ã€‚ä¾‹å¦‚ï¼š
corrected_image = cv2.warpPerspective(image, H, (image.shape[1], image.shape[0]))

å˜æ¢ç»“æžœå¦‚å›¾æ‰€ç¤ºï¼š


![æ ¡æ­£ç»“æžœ](/pddon/æ ¡æ­£ç»“æžœ.png)

ç›¸æœºä½ç½®åœ¨ç©ºé—´çš„å¯è§†åŒ–ï¼Ÿ

## æ·±åº¦å­¦ä¹ æ–¹æ³•

å‚è€ƒå¤§ç¥žè®ºæ–‡ [Blind Geometric Distortion Correction on Images Through Deep Learning](https://github.com/xiaoyu258/GeoProj)

# åœ°å›¾åˆ¶ä½œ

å°†å‡ ä½•æ ¡æ­£åŽçš„å›¾åƒè´´å›¾åˆ°åœ°å›¾ä¸Š

![åœ°å›¾æ˜¾ç¤ºè¿‡ç¨‹](/pddon/åœ°å›¾æ˜¾ç¤ºè¿‡ç¨‹.png)

1. å®šæ—¶è¯»å–å’Œæ›´æ–°å›¾åƒ
    - å®šæœŸæ£€æŸ¥æ–‡ä»¶å¤¹ä¸­çš„æ–°å›¾åƒã€‚ï¼ˆä¸€ä¸ªåŽç«¯æœåŠ¡æ¥å®žçŽ°æ–‡ä»¶å¤¹çš„è®¿é—®å’Œå›¾åƒåˆ—è¡¨çš„èŽ·å–ï¼‰
    check_new_imageså‡½æ•°:
    æ£€æŸ¥ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ–°å›¾ç‰‡ï¼Œå¹¶å°†è¿™äº›å›¾ç‰‡æŒ‰ç…§æ—¶é—´é¡ºåºæ·»åŠ åˆ°ä¸€ä¸ªé˜Ÿåˆ—ä¸­ã€‚å¦‚æžœæ–‡ä»¶ååœ¨ file_mod_times å­—å…¸ä¸­ä¸å­˜åœ¨ï¼Œæˆ–è€…æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´æ¯”å­—å…¸ä¸­å­˜å‚¨çš„æ—¶é—´æ–°ï¼Œåˆ™æ›´æ–°å­—å…¸ä¸­è¯¥æ–‡ä»¶çš„æ—¶é—´ï¼Œå¹¶å°†æ–‡ä»¶è·¯å¾„å’Œä¿®æ”¹æ—¶é—´æ·»åŠ åˆ° new_images åˆ—è¡¨ä¸­ã€‚
2. å›¾åƒæ‹¼æŽ¥
    - åœ¨æœåŠ¡å™¨ç«¯å®Œæˆæ‹¼æŽ¥å¤„ç†ï¼Œç„¶åŽå°†æ‹¼æŽ¥å¥½çš„å›¾åƒä½œä¸ºä¸€ä¸ªæ•´ä½“å‘é€åˆ°å‰ç«¯è¿›è¡Œæ˜¾ç¤ºã€‚
    background_image_taskå‡½æ•°ï¼š
      - é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶å–å›¾
      - åˆ¤æ–­ç¬¬iå¼ å›¾åƒä¸Žç¬¬i-1å¼ å›¾åƒé‡å¤åº¦ï¼ˆæŒ‰ç…§>80,20-80,<20è®¾ä¸ºåˆ¤æ–­æ¡ä»¶ï¼‰
      - æ»¡è¶³é˜ˆå€¼æ¡ä»¶è¿›è¡Œæ‹¼æŽ¥ï¼Œå¦åˆ™ç›´æŽ¥å‘é€åˆ°å‰ç«¯æ˜¾ç¤º
3. ä¼˜åŒ–å†…å­˜å’Œæ€§èƒ½
    - ç¡®ä¿å®šæœŸæ¸…ç†ä¸å†éœ€è¦çš„å›¾åƒæ•°æ®å’Œå˜é‡ï¼Œä»¥é˜²æ­¢å†…å­˜æº¢å‡ºã€‚
4. å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•
5. æ˜¾ç¤ºæœ€æ–°çš„å›¾åƒ

![åœ°å›¾æ˜¾ç¤º](/pddon/åœ°å›¾æ˜¾ç¤º.png)